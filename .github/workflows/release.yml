name: Publish a release

on:
  pull_request
  # release:
  #   types:
  #     - released
  #     - prereleased

jobs:
  build-and-publish:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v3
    - name: Set up Python
      uses: actions/setup-python@v3
      with:
        python-version: '3.x'
    # - name: Install build dependencies
    #   run: python -m pip install -U setuptools wheel
    - name: Build
      run: CONDUCTOR_PYTHON_VERSION=1.0.30 python3 setup.py sdist bdist_wheel
    - name: Echo
      run: ls -la
    # - name: Publish
    #   uses: pypa/gh-action-pypi-publish@master
    #   with:
    #     password: ${{ secrets.pypi_password }}
    #     skip_existing: true